import React, { useState } from "react";
import { LineChart, Line, XAxis, YAxis, Tooltip, ResponsiveContainer, PieChart, Pie, Cell, Legend } from 'recharts';

// Single-file React component for a bilingual (EN/中文) personal site
// TailwindCSS ready. Clean, minimal, black–gold aesthetic.
// Drop into a React project with Tailwind enabled. Exports a default component.
// Replace placeholder links (resume, email, socials) with your real ones.

export default function PersonalSite() {
  const [lang, setLang] = useState<'en' | 'zh'>('en');

  const t = (en: string, zh: string) => (lang === 'en' ? en : zh);

  const nav = [
    { id: 'about', label: t('About', '关于我') },
    { id: 'focus', label: t('Focus', '专长') },
    { id: 'demo', label: t('Analytics Demo', '分析演示') },
    { id: 'cases', label: t('Case Studies', '项目案例') },
    { id: 'skills', label: t('Skills', '技能栈') },
    { id: 'experience', label: t('Experience', '经历') },
    { id: 'contact', label: t('Contact', '联系我') },
  ];

  const metrics = [
    { value: '8+', labelEn: 'years exp', labelZh: '年经验' },
    { value: '180+', labelEn: 'data sources integrated', labelZh: '整合数据源' },
    { value: '35%', labelEn: 'conv. lift (select funnels)', labelZh: '转化提升（选定漏斗）' },
    { value: '3', labelEn: 'core tracks: DA · BD/IR · Web3', labelZh: '三主线：数据 · BD/IR · Web3' },
  ];

  const focusCards = [
    {
      titleEn: 'Data / BI Analytics',
      titleZh: '数据 / 商业智能',
      bulletsEn: [
        'SQL · Python (Pandas/NumPy) · Power BI · Tableau',
        'KPI dashboards, funnel & churn analysis, A/B testing',
        'CRM/ERP data, pipeline hygiene, GTM telemetry',
      ],
      bulletsZh: [
        'SQL · Python（Pandas/NumPy）· Power BI · Tableau',
        'KPI 看板、漏斗/流失分析、A/B 测试',
        'CRM/ERP 数据、销售漏斗治理、GTM 指标',
      ],
    },
  ];

  const cases = [
    {
      tagEn: 'Nurex Link — BI Platform',
      tagZh: 'Nurex Link — 商业智能平台',
      titleEn: 'Unified funnels across 180+ sources',
      titleZh: '180+ 数据源统一漏斗',
      bodyEn:
        'Built Power BI dashboards unifying marketing, product, and CRM telemetry; standardized metrics and lineage; select funnels saw ~35% conversion lift after hygiene + interventions.',
      bodyZh:
        '构建 Power BI 看板，统一营销、产品与 CRM 数据；标准化核心指标与数据血缘；在数据治理与干预后，部分漏斗转化率约提升 35%。',
      highlightsEn: ['Power BI · SQL · Python', 'Data contracts & lineage', 'Funnel hygiene → lift'],
      highlightsZh: ['Power BI · SQL · Python', '数据契约与血缘', '漏斗治理 → 提升'],
    },
    {
      tagEn: 'Baidu — Commercial Analytics',
      tagZh: '百度 — 商业分析',
      titleEn: 'KPI instrumentation at scale',
      titleZh: '大规模 KPI 指标化',
      bodyEn:
        'Partnered with business units to define KPIs, instrument events, and build self-serve dashboards supporting exec and ops rhythms; accelerated decision cycles.',
      bodyZh:
        '与各业务线协作沉淀 KPI、埋点与自助看板，服务管理与运营节奏；显著缩短决策周期。',
      highlightsEn: ['Tableau · SQL', 'Self-serve KPI portal', 'Ops/exec cadence'],
      highlightsZh: ['Tableau · SQL', '自助 KPI 门户', '运营/管理节奏'],
    },
  ];

  const skills = [
    'SQL', 'Python', 'Pandas', 'NumPy', 'Power BI', 'Tableau', 'Excel/Sheets', 'Salesforce CRM', 'A/B Testing', 'ETL', 'API Integrations', 'Storytelling'
  ];

  const experience = [
    {
      company: 'Nurex Link LLC',
      roleEn: 'Data Analyst',
      roleZh: '数据分析师',
      time: '2024.12 – Present',
      pointsEn: [
        'Integrated 180+ data sources into unified funnels and KPI views.',
        'Built Power BI dashboards driving exec and GTM visibility.',
        'Implemented hygiene on CRM pipelines; improved conversion on select funnels ~35%.',
      ],
      pointsZh: [
        '整合 180+ 数据源形成统一漏斗与 KPI 视图。',
        '构建 Power BI 看板，服务管理层与 GTM 可视化。',
        '治理 CRM 管道；部分漏斗转化约提升 35%。',
      ],
    },
    {
      company: 'Baidu',
      roleEn: 'Commercial Analytics',
      roleZh: '商业分析',
      time: '2019 – 2022',
      pointsEn: [
        'Partnered with BU stakeholders on KPI definitions & instrumentation.',
        'Delivered Tableau dashboards and cohort/funnel analyses for growth.',
        'Enabled faster decision cadence via self-serve analytics.',
      ],
      pointsZh: [
        '与业务协作定义 KPI 与埋点。',
        '交付 Tableau 看板与分群/漏斗分析，支撑增长。',
        '以自助分析提升决策节奏。',
      ],
    },
    {
      company: 'BDP',
      roleEn: 'BI Analyst',
      roleZh: '商业智能分析师',
      time: '2016 – 2018',
      pointsEn: [
        'Built foundational BI views, ETL routines, and reporting packs.',
        'Collaborated with ops and finance for weekly KPI reviews.',
      ],
      pointsZh: [
        '搭建基础 BI 视图、ETL 流程与报告包。',
        '与运营、财务协作开展周度 KPI 评审。',
      ],
    },
    {
      company: 'ThreatBook (威胁猎人)',
      roleEn: 'Data Security Analyst (short stint)',
      roleZh: '数据安全分析（短期）',
      time: '2018 – 2019',
      pointsEn: [
        'Assisted with security telemetry analysis and reporting.'
      ],
      pointsZh: [
        '参与安全遥测数据分析与报告。'
      ],
    },
    {
      company: 'ByteDance (Volcano Engine)',
      roleEn: 'Analytics Intern (short-term)',
      roleZh: '分析实习生（短期）',
      time: 'Late 2020',
      pointsEn: [
        'Contributed to instrumentation and data QA initiatives.'
      ],
      pointsZh: [
        '参与埋点与数据质量工作。'
      ],
    },
    {
      company: 'Tianshan Capital',
      roleEn: 'IR/Analyst Intern',
      roleZh: 'IR/分析实习生',
      time: 'Mid 2022',
      pointsEn: [
        'Drafted investor briefs and supported cross-border dialogues.'
      ],
      pointsZh: [
        '撰写投资者简报并支持跨境沟通。'
      ],
    },
    {
      company: 'Webster University (MBA, Data Analytics track)',
      roleEn: 'Graduate Study',
      roleZh: '研究生学习（MBA，数据分析方向）',
      time: '2023.04 – 2024.10',
      pointsEn: [
        'Coursework: data comms & infra, analytics, BI, strategy; IRIS² satellite networks paper.'
      ],
      pointsZh: [
        '课程：数据通信与基础设施、数据分析、商业智能、战略；撰写 IRIS² 卫星网络论文。'
      ],
    },
  ];

  const publications = [
    {
      titleEn: 'Enhancing Risk Management and Resilience in Satellite Communications: A Case Study of the EU’s IRIS² Framework',
      titleZh: '提升卫星通信风险管理与韧性：欧盟 IRIS² 框架案例研究',
      date: '2025-07-27',
      noteEn: 'MSBA 650 course paper (1,320 words).',
      noteZh: 'MSBA 650 课程论文（1320字）。',
      link: '#',
    },
  ];

  const socials = [
    { name: 'LinkedIn', href: 'https://www.linkedin.com/in/clairesiwang' },
    { name: 'GitHub', href: 'https://github.com/clairesiwang' },
    { name: 'YouTube', href: 'https://www.youtube.com/@alphanexus' },
  ];

  // Demo datasets for charts (replace with live data later)
  const chartData = [
    { month: 'Jan', users: 120, signups: 42 },
    { month: 'Feb', users: 150, signups: 60 },
    { month: 'Mar', users: 210, signups: 75 },
    { month: 'Apr', users: 280, signups: 110 },
    { month: 'May', users: 340, signups: 130 },
    { month: 'Jun', users: 390, signups: 160 },
  ];

  const pieData = [
    { name: 'Organic', value: 45 },
    { name: 'Paid', value: 25 },
    { name: 'Referral', value: 18 },
    { name: 'Direct', value: 12 },
  ];

  const PIE_COLORS = ['#facc15', '#a3a3a3', '#f59e0b', '#d4d4d4'];

  const resumeLinks = {
    da: { href: '#', labelEn: 'Download Data/BI Resume (PDF)', labelZh: '下载 数据/BI 简历（PDF）' },
    ir: { href: '#', labelEn: 'Download IR/BD Resume (PDF)', labelZh: '下载 IR/BD 简历（PDF）' },
  };

  const email = 'celeste.siwang@gmail.com';

  return (
    <div className="min-h-screen bg-[#0b0b0b] text-neutral-200">
      {/* Nav */}
      <header className="sticky top-0 z-30 backdrop-blur bg-black/50 border-b border-white/10">
        <div className="mx-auto max-w-6xl px-4 py-3 flex items-center justify-between">
          <a href="#top" className="font-semibold tracking-wide text-yellow-400">ALPHA NEXUS</a>
          <nav className="hidden md:flex gap-6 text-sm">
            {nav.map(n => (
              <a key={n.id} href={`#${n.id}`} className="hover:text-yellow-300 transition">{n.label}</a>
            ))}
          </nav>
          <div className="flex items-center gap-3">
            <a
              href={`mailto:${email}`}
              className="text-sm px-3 py-1.5 rounded-xl border border-white/15 hover:border-yellow-400 hover:text-yellow-300 transition"
            >{t('Email me', '邮件联系')}</a>
            <button
              onClick={() => setLang(lang === 'en' ? 'zh' : 'en')}
              className="text-xs px-2 py-1 rounded-lg border border-white/15 hover:border-yellow-400 hover:text-yellow-300 transition"
              aria-label="toggle language"
            >{lang === 'en' ? '中文' : 'EN'}</button>
          </div>
        </div>
      </header>

      {/* Hero */}
      <section id="top" className="mx-auto max-w-6xl px-4 pt-14 pb-10">
        <div className="grid md:grid-cols-12 gap-8 items-center">
          <div className="md:col-span-7">
            <div className="inline-flex items-center gap-2 text-xs uppercase tracking-widest text-yellow-300/90">
              <span>Celeste (Claire) Wang</span>
              <span className="opacity-50">·</span>
              <span>{t('Data & Business Analytics', '数据与商业分析')}</span>
            </div>
            <h1 className="mt-3 text-3xl md:text-5xl font-semibold leading-tight">
              {t('I turn messy data into decisions—and decisions into growth.', '我把杂乱数据变成决策，把决策转化为增长。')}
            </h1>
            <p className="mt-4 text-neutral-300/90 md:text-lg max-w-2xl">
              {t(
                'Dual-track professional across Data/BI and IR/BD. I build KPI systems, funnels, and investor narratives that leaders can trust.',
                '双主线：数据/BI 与 IR/BD。我搭建 KPI 体系与漏斗，也搭建投资者叙事，供管理层迅速决策。'
              )}
            </p>
            <div className="mt-6 flex flex-wrap gap-3">
              <a href={resumeLinks.da.href} className="px-4 py-2 rounded-2xl bg-yellow-400/90 text-black font-medium hover:bg-yellow-300 transition">
                {lang === 'en' ? resumeLinks.da.labelEn : resumeLinks.da.labelZh}
              </a>
              <a href={resumeLinks.ir.href} className="px-4 py-2 rounded-2xl border border-white/15 hover:border-yellow-400 hover:text-yellow-300 transition">
                {lang === 'en' ? resumeLinks.ir.labelEn : resumeLinks.ir.labelZh}
              </a>
            </div>
            <div className="mt-6 flex gap-5 text-sm">
              {socials.map(s => (
                <a key={s.name} href={s.href} className="opacity-80 hover:opacity-100 hover:text-yellow-300 transition" target="_blank" rel="noreferrer">
                  {s.name}
                </a>
              ))}
            </div>
          </div>
          <div className="md:col-span-5">
            <div className="grid grid-cols-4 gap-3">
              {metrics.map((m, i) => (
                <div key={i} className="col-span-2 sm:col-span-2 rounded-2xl border border-white/10 bg-white/5 p-4">
                  <div className="text-3xl font-semibold text-yellow-300">{m.value}</div>
                  <div className="mt-1 text-xs text-neutral-300/80">
                    {lang === 'en' ? m.labelEn : m.labelZh}
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      </section>

      {/* About */}
      <section id="about" className="mx-auto max-w-6xl px-4 py-10">
        <div className="grid md:grid-cols-12 gap-8">
          <div className="md:col-span-5">
            <h2 className="text-xl md:text-2xl font-semibold text-yellow-300">{t('About', '关于我')}</h2>
            <p className="mt-3 text-neutral-300/90">
              {t(
                'MBA (Data Analytics) with ~8 years across BI, growth analytics, and investor communications. I build practical systems: data contracts, KPI maps, dashboards, and concise narratives that move decisions forward.',
                'MBA（数据分析方向），约 8 年覆盖 BI、增长分析与投资者沟通。我偏实用主义：数据契约、KPI 地图、可落地的看板与简洁叙事，推动决策落地。'
              )}
            </p>
          </div>
          <div className="md:col-span-7">
            <div className="rounded-2xl border border-white/10 bg-white/5 p-5">
              <ul className="space-y-2 text-sm text-neutral-300/90 list-disc list-inside">
                <li>{t('Currently: Data Analyst @ Nurex Link (US).', '当前：Nurex Link（美国）数据分析师。')}</li>
                <li>{t('Previously: Baidu (Commercial Analytics), BDP (BI), ThreatBook (security data), ByteDance (intern), Tianshan Capital (IR/analyst).', '此前：百度（商业分析）、BDP（BI）、威胁猎人（安全数据）、字节跳动（实习）、天善资本（IR/分析）。')}</li>
                <li>{t('Tooling: SQL, Python, Power BI, Tableau, Excel, Salesforce CRM.', '工具：SQL、Python、Power BI、Tableau、Excel、Salesforce CRM。')}</li>
                <li>{t('Focus: funnel/retention, GTM analytics, investor updates and materials.', '关注：漏斗/留存、GTM 分析、投资者更新与材料。')}</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      {/* Focus */}
      <section id="focus" className="mx-auto max-w-6xl px-4 py-10">
        <h2 className="text-xl md:text-2xl font-semibold text-yellow-300">{t('Focus', '专长')}</h2>
        <div className="mt-6 grid md:grid-cols-3 gap-6">
          {focusCards.map((c, i) => (
            <div key={i} className="rounded-2xl border border-white/10 bg-white/5 p-6">
              <div className="font-semibold text-lg">{lang === 'en' ? c.titleEn : c.titleZh}</div>
              <ul className="mt-3 space-y-2 text-sm text-neutral-300/90 list-disc list-inside">
                {(lang === 'en' ? c.bulletsEn : c.bulletsZh).map((b, j) => (
                  <li key={j}>{b}</li>
                ))}
              </ul>
            </div>
          ))}
        </div>
      </section>

      {/* Analytics Demo */}
      <section id="demo" className="mx-auto max-w-6xl px-4 py-10">
        <h2 className="text-xl md:text-2xl font-semibold text-yellow-300">{t('Analytics Demo', '分析演示')}</h2>
        <div className="mt-6 grid md:grid-cols-2 gap-6">
          <div className="rounded-2xl border border-white/10 bg-white/5 p-5">
            <div className="text-sm font-semibold mb-3">{t('Monthly Users & Signups', '月度用户与注册')}</div>
            <div className="h-64">
              <ResponsiveContainer width="100%" height="100%">
                <LineChart data={chartData} margin={{ top: 10, right: 20, bottom: 0, left: 0 }}>
                  <XAxis dataKey="month" />
                  <YAxis />
                  <Tooltip />
                  <Legend />
                  <Line type="monotone" dataKey="users" stroke="#facc15" strokeWidth={2} dot={false} />
                  <Line type="monotone" dataKey="signups" stroke="#9ca3af" strokeWidth={2} dot={false} />
                </LineChart>
              </ResponsiveContainer>
            </div>
          </div>
          <div className="rounded-2xl border border-white/10 bg-white/5 p-5">
            <div className="text-sm font-semibold mb-3">{t('Acquisition Split', '获客渠道占比')}</div>
            <div className="h-64">
              <ResponsiveContainer width="100%" height="100%">
                <PieChart>
                  <Pie data={pieData} dataKey="value" nameKey="name" outerRadius={90} innerRadius={45}>
                    {pieData.map((entry, index) => (
                      <Cell key={`cell-${index}`} fill={PIE_COLORS[index % PIE_COLORS.length]} />
                    ))}
                  </Pie>
                  <Tooltip />
                  <Legend />
                </PieChart>
              </ResponsiveContainer>
            </div>
          </div>
        </div>
      </section>

      {/* Case Studies */}
      <section id="cases" className="mx-auto max-w-6xl px-4 py-10">
        <h2 className="text-xl md:text-2xl font-semibold text-yellow-300">{t('Case Studies', '项目案例')}</h2>
        <div className="mt-6 grid md:grid-cols-3 gap-6">
          {cases.map((c, i) => (
            <article key={i} className="rounded-2xl border border-white/10 bg-gradient-to-b from-white/5 to-white/0 p-6 flex flex-col">
              <span className="text-xs uppercase tracking-wider text-yellow-300/90">{lang === 'en' ? c.tagEn : c.tagZh}</span>
              <h3 className="mt-2 text-lg font-semibold">{lang === 'en' ? c.titleEn : c.titleZh}</h3>
              <p className="mt-2 text-sm text-neutral-300/90">{lang === 'en' ? c.bodyEn : c.bodyZh}</p>
              <div className="mt-4 flex flex-wrap gap-2">
                {(lang === 'en' ? c.highlightsEn : c.highlightsZh).map((h, j) => (
                  <span key={j} className="text-xs px-2 py-1 rounded-xl border border-white/10 bg-white/5">{h}</span>
                ))}
              </div>
            </article>
          ))}
        </div>
      </section>

      {/* Skills */}
      <section id="skills" className="mx-auto max-w-6xl px-4 py-10">
        <h2 className="text-xl md:text-2xl font-semibold text-yellow-300">{t('Skills', '技能栈')}</h2>
        <div className="mt-6 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-3">
          {skills.map((s, i) => (
            <div key={i} className="text-sm text-center px-3 py-2 rounded-xl border border-white/10 bg-white/5">
              {s}
            </div>
          ))}
        </div>
      </section>

      {/* Experience */}
      <section id="experience" className="mx-auto max-w-6xl px-4 py-10">
        <h2 className="text-xl md:text-2xl font-semibold text-yellow-300">{t('Experience', '经历')}</h2>
        <div className="mt-6 space-y-4">
          {experience.map((e, i) => (
            <div key={i} className="rounded-2xl border border-white/10 bg-white/5 p-5">
              <div className="flex flex-wrap items-center justify-between gap-3">
                <div className="font-semibold text-lg">{e.company}</div>
                <div className="text-xs text-neutral-300/70">{e.time}</div>
              </div>
              <div className="mt-1 text-sm text-neutral-200/95">
                {lang === 'en' ? e.roleEn : e.roleZh}
              </div>
              <ul className="mt-3 space-y-2 text-sm text-neutral-300/90 list-disc list-inside">
                {(lang === 'en' ? e.pointsEn : e.pointsZh).map((p, j) => (
                  <li key={j}>{p}</li>
                ))}
              </ul>
            </div>
          ))}
        </div>

        {/* Publications */}
        <div className="mt-8">
          <h3 className="text-lg font-semibold text-yellow-300">{t('Selected Writing', '部分写作')}</h3>
          <div className="mt-3 grid md:grid-cols-2 gap-4">
            {publications.map((p, i) => (
              <a key={i} href={p.link} className="block rounded-2xl border border-white/10 bg-white/5 p-5 hover:border-yellow-400 hover:text-yellow-300 transition">
                <div className="text-sm">{lang === 'en' ? p.titleEn : p.titleZh}</div>
                <div className="mt-1 text-xs text-neutral-300/70">{p.date} · {lang === 'en' ? p.noteEn : p.noteZh}</div>
              </a>
            ))}
          </div>
        </div>
      </section>

      {/* Contact */}
      <section id="contact" className="mx-auto max-w-6xl px-4 py-12">
        <div className="rounded-3xl border border-white/10 bg-gradient-to-br from-white/5 to-white/0 p-8 md:p-10">
          <h2 className="text-2xl md:text-3xl font-semibold">
            {t('Let’s build something measurable.', '一起做可度量的成果。')}
          </h2>
          <p className="mt-2 text-neutral-300/90 max-w-2xl">
            {t('{t('Open to data/BI roles (US remote/hybrid; SG/Dubai on-site). I turn data into decisions stakeholders can trust.', '开放数据/BI 岗位（美国 Remote/Hybrid；新加坡/迪拜 On-site）。用数据支撑可被信任的决策。')}
          </p>
          <div className="mt-5 flex flex-wrap gap-3">
            <a href={`mailto:${email}`} className="px-4 py-2 rounded-2xl bg-yellow-400/90 text-black font-medium hover:bg-yellow-300 transition">
              {t('Email', '邮件联系')}
            </a>
            <a href={resumeLinks.da.href} className="px-4 py-2 rounded-2xl border border-white/15 hover:border-yellow-400 hover:text-yellow-300 transition">
              {lang === 'en' ? resumeLinks.da.labelEn : resumeLinks.da.labelZh}
            </a>
            <a href={resumeLinks.ir.href} className="px-4 py-2 rounded-2xl border border-white/15 hover:border-yellow-400 hover:text-yellow-300 transition">
              {lang === 'en' ? resumeLinks.ir.labelEn : resumeLinks.ir.labelZh}
            </a>
          </div>
        </div>
      </section>

      {/* Footer */}
      <footer className="border-t border-white/10">
        <div className="mx-auto max-w-6xl px-4 py-6 text-sm text-neutral-400 flex flex-wrap items-center justify-between gap-3">
          <div>
            © {new Date().getFullYear()} Celeste (Claire) Wang · {t('All rights reserved.', '保留所有权利。')}
          </div>
          <div className="flex gap-4">
            {socials.map(s => (
              <a key={s.name} href={s.href} target="_blank" rel="noreferrer" className="hover:text-yellow-300 transition">{s.name}</a>
            ))}
          </div>
        </div>
      </footer>
    </div>
  );
}
